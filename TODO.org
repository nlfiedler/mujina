* Mujina
** Next
*** ReasonML
**** TODO Understand how =redux-saga= works and how ReasonML can do something similar
***** TODO See [[http://2ality.com/2018/01/iterators-reasonml.html][ReasonML iterators]] for an alternative to generators seen in redux-saga
***** TODO See [[https://redux-observable.js.org][redux-observable]] for an alternative method that does not use generators
**** TODO Consider how to interact with React libraries from ReasonReact
- react-lazyload-fadein
- react-resize-detector
- react-visibility-sensor

**** TODO Consider how to organize the source code; Reason tends to be flat
**** TODO Consider how to handle =react-redux= containers in Reason
**** TODO Consider how to use =reductive= instead of =redux= and =react-redux=
- Instead of =mapStateToProps()= we would use =shouldUpdate()= on each component
- Consider using "lenses"
  - c.f. https://github.com/jonlaing/rationale for =Lens.re=
- =react-redux= "selector" does the comparison of old and new mapped props

**** TODO Convert some React components to ReasonReact [0/22]
- [ ] AssetEditPage
- [ ] AssetEditor
- [ ] AssetPage
- [ ] AssetPreview
- [ ] AssetSidebar
- [ ] Attribute
- [ ] AttributeList
- [ ] ErrorMessage
- [ ] ErrorPage
- [ ] FiltersPanel
- [ ] HomePage
- [ ] NewFile
- [ ] NewFileList
- [ ] OptionsForm
- [ ] OptionsPage
- [ ] SearchBar
- [ ] SearchPage
- [ ] ThumbnailCard
- [ ] ThumbnailColumn
- [ ] ThumbnailGrid
- [ ] UploadPage
- [ ] UploadProgress

**** TODO Convert some JavaScript to ReasonML [0/11]
- [ ] actions.js
- [ ] api.js
- [ ] config.js
- [ ] main.js
- [ ] menu.js
- [ ] preview.js
- [ ] query.js
- [ ] reducers.js
- [ ] renderer.js
- [ ] sagas.js
- [ ] store.js

**** TODO Rewrite the =App= component in ReasonML and use ReasonReact router
***** TODO Adapt the ReasonReact router to use its =push= function
***** TODO Remove =react-router= and =react-router-redux= dependencies
**** TODO Remove =PropTypes= once conversion to ReasonReact is complete
***** TODO Remove =prop-types= dependency
*** Asset page
**** TODO Resize window and observe that middle component does not resize well
**** TODO ThumbnailColumn images should have tiny margins
**** TODO Use a =:hover= style to accent the images on mouseover
Lighten them perhaps?

**** TODO Clicking on asset in preview screen should show it full size
- Need a semi-transparent "delete" button in the corner to go back

**** TODO Use an "image slider" to move from one asset to the next
- There are lots and lots of these
- c.f. https://github.com/benhowell/react-grid-gallery

**** TODO Show image/video resolution in asset sidebar
*** Thumbnail view
**** TODO Fetch results as needed, rather than all at once
- c.f. https://github.com/reasonml-community/reason-react-hacker-news/blob/master/src/TopStoriesPage.re
  - listens for scroll event on the window and fetches more content
- Have to fetch for =AssetSelector= component as well
- Because of the thumbnail size calculation, first fetch is really slow
- Should fetch new results as the user scrolls down
- Need new actions that append to the results rather than overwrite
  - action includes the page number to fetch
- Fetch a batch at a time (like 18) until there are enough to fill the screen

**** TODO Hover should show asset date/time, caption, maybe filename
- See =Image.js= in https://github.com/benhowell/react-grid-gallery

**** TODO Use hover "overlay" button to select assets to operate on
- See =CheckButton.js= in https://github.com/benhowell/react-grid-gallery

**** TODO Show "No matching assets" when asset list is empty (and filters are set)
*** Quick Ones
**** TODO [[https://github.com/you-dont-need/You-Dont-Need-Lodash-Underscore][You may not need lodash]]
**** TODO Allow editing the media type of assets
**** TODO Change buttons to use textual labels versus icons
The icons are kinda cryptic, text is much more obvious

**** TODO Some text should not be selectable, Bloomer has isUnselectable
**** TODO Asset edit page button improvements
- "Edit" changes to "Cancel" when editing
- "Save" button at the bottom of the screen

*** Glitches
**** TODO When scrolling thumbnails very quickly, seems to stop rendering at all
**** TODO Does =react-lazyload-fadein= support unloading the images when they are no longer visible?
- May be =react-transition-group= supports this?
- Or may need to hack/extend =react-lazyload-fadein= to do it

**** TODO Handle search query string errors better
- Currently, an error in the query goes to the error page without any helpful hint
- Currently, once the query is wrong, you can never fix it because it directly goes to the error page

**** TODO Show helpful text and examples on search page instead of results
- See Sublime Merge "search" screen as a nice example

**** TODO Attribute selection change frequency may need deboucing
- In =sagas.js= consider a delay with =watchSelectorToggles= to avoid frequent fetching
  (see "Debouncing" in [[https://redux-saga.js.org/docs/recipes/][recipes]] on redux-sagas site)

*** Bulk Edit
**** TODO Short term solution akin to perkeep web interface [0/4]
- [ ] Easy selection with hover checkbox button
  - Could use =svg= tag to render the button
  - See pexels.com in that it uses article tag, with nested img and button with nested svg
- [ ] When selections, filters panel changes to show available actions
- [ ] Actions include adding, deleting tags, setting location
  - This is basically a simplified bulk edit
- [ ] Use a prefix for the checksum values

**** TODO Design bulk edit solution, probably similar to JIRA [0/5]
- [ ] Access the bulk edit screen via a menu item
- [ ] Use search form
- [ ] Perform search, present results using "list" view
- [ ] Check off results as desired
- [ ] Next page presents several operations [0/8]
  - [ ] add location
  - [ ] remove location
  - [ ] rename location
  - [ ] add a tag
  - [ ] remove a tag
  - [ ] rename a tag
  - [ ] set caption
  - [ ] change media type

*** Uploads
**** TODO Show a larger thumbnail on hover over small thumbnail
**** TODO Add menu/button to navigate to upload screen
- Big "primary" style button on home screen?
- Menu item to reach upload screen
- Add a button on the upload screen to select additional files

**** TODO Tag and location completion on uploads page
**** TODO Add a button to remove a single upload entry from the list
**** TODO Consider how to show uploads.error in NewFileList page
**** TODO Sometimes dropping an image just opens the image
- Pretty difficult to reproduce
- Handle 'open-url' and/or 'open-file' on the app instance in main.js
- Is there a browser event when the page is about to unload?
- Mouse pointer may or may not have green plus icon, means nothing
- Modifier keys make no difference
- Showing a thumbnail or showing just a filename during drag means nothing
- Is there a React event that App can listen for, like "unmount"?
  - and if that happens, fire an action to navigate back home
- Maybe intercept the 'will-nagivate' event?
  - Would need to know if our app initiated the event
- Maybe a menu item to get back "Home"
- Maybe a periodic check in main.js to ensure webContents are what is expected

**** TODO Consider a "recent uploads" button to show newly added assets
**** TODO Show a fancy help overlay thingy on dragover
- See Slack, which shows an overlay while dragging over the window
- Probably need to add dragover and drop handlers to the top-level App component

*** Videos
**** TODO Get video playback working again
- Also does not work with webui in Chrome
- Seems to work with some videos (like potowatomi from 2014)

**** TODO How to get large videos into storage?
- Files up to 100MB seem to be okay, but what about really large files?

**** TODO Use video tag for thumbnail view
**** TODO Show 5 or so frames from the video on hover
**** TODO Show placeholder icons for videos that fail to load
*** TODO Update Electron
** Investigate
*** TODO What format are =AAE= files and can we show them somehow?
*** TODO How to search for assets with no tags or location?
- GraphQL works, but it is beyond the capability of non-technical people

*** TODO What does supporting emoji codes (in captions/comments) entail?
*** TODO Investigate how to localize the app
- https://www.npmjs.com/package/oftn-l10n
- https://developer.mozilla.org/en-US/docs/Mozilla/Localization/Localization_content_best_practices

*** TODO Find out how to handle unresponsive windows
*** TODO See https://github.com/Quramy/electron-jsx-babel-boilerplate/
- uses gulp to minify and uglify everything

*** TODO Drag and drop from Photos is not working
- No drag events are fired at all, it just does nothing
- See the Electron guide for native drag & drop
- Handle 'open-url' and/or 'open-file' on the app instance in main.js
- Maybe look at that relatively new DataTransfer API business

*** TODO Look for library to connect to devices to extract photos
** Refinements
*** TODO Toolbar buttons (or something) to change thumbnail view
- See lynapp.com screenshot
- Icon view: the 240x240 thumbnails with some details as captions
- Gallery view: the justified progressive image-only layout
- List view: show 96x96 thumbnails and details in list format
  - should have column resizing

*** TODO Show filters tab containing first selection
That is, if only a location is selected, when switching back to the home page,
the tags tab is selected by default, and the locations is not showing.

*** TODO Advanced search features
**** TODO "is:image" and similar are converted to "mimetype:image/*" :tanuki:
**** TODO "with:<name>" for searching people
**** TODO logical operators (and, or) and grouping with parentheses

*** TODO Have a timeline feature like Google Photos
- Looks like Time Machine timeline, with marks and years, expands on hover
- See the Bulma-Extensions Timeline component

*** TODO Better tags input
- Use Bulma-Extensions TagsInput on the asset edit screen

*** TODO Consider setting the application menu appropriately for macOS and win32
*** TODO Create a "New Window" menu item that invokes createWindow()
*** TODO Set the browser window title (in index.html) to something sensible
*** TODO When selecting attributes, disable those that no longer help
*** TODO Maybe a set of Tabs to select between Pictures, Music, Videos, Documents, etc
*** TODO Read https://fb.me/react-error-boundaries to learn about error handling
*** TODO Decent about window (c.f. [[https://github.com/rhysd/electron-about-window][electron-about-window]])
