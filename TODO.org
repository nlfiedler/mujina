* Mujina
** Next
*** General
**** DONE Edit asset should fetch attributes again

**** TODO Clicking on asset in preview screen should show it full size
- Need a semi-transparent "delete" button in the corner to go back

*** Search
**** DONE Add a search bar across the top of most screens
**** DONE Get the basic interface working [7/7]
- [X] fix the width of the search bar to fit the remainder of the window
- [X] eliminate the box-shadow below the navbar
- [X] stretch the text field to fill the available space
- [X] keep the search bar stuck to the top of the window
- [X] pressing Enter in the search field should submit
- [X] submitting should do something
- [X] Make the "reset" button smaller

**** DONE Get the basic search feature working [6/6]
- [X] Should use react-redux-form for the search field
- [X] Implement the parser/evaluator
- [X] Support multiple "tag:" values
- [X] Support multiple "loc:" values
- [X] Support date range search: "before:2017-05", "after:2018-01"
- [X] Use existing search field to perform the search

**** TODO Fix the =after= and =before= which seem to not work
**** TODO The reset filters button should reset the search field?
**** TODO Consider how do asset filters and search should work together
- May need a mode for searching and another for browsing
- Design the search bar and selectors accordingly

**** TODO Fix the buggy browsing/search interface
***** TODO The search navbar is a little too wide, Search button nearly runs off the edge
***** TODO Fix the search bar positioning before/after assets are shown
It is initially shifted upward a bit and then it moves down when assets are
shown in the thumbnail grid.
***** TODO Filters tile has some mysterious padding on the right that creates a needless gap
***** TODO Try to get the asset filters panel to stretch as desired
- See https://www.bitovi.com/blog/use-flexbox-to-create-a-sticky-header-and-sidebar-with-flexible-content
  which has a full page design; seems to be hard to make this work with bulma since
  the two "flex" frameworks interfere with each other
- See flexbox section below
- May appear to be working, but resize the window to be sure
- Need to somehow set the height of the panelContent Block
- Maybe set min-height: 100vh on the body
   (https://philipwalton.github.io/solved-by-flexbox/demos/sticky-footer/)
- https://codepen.io/stephenbunch/pen/KWBNVo
  - doesn't help
- https://www.bitovi.com/blog/use-flexbox-to-create-a-sticky-header-and-sidebar-with-flexible-content
- https://codepen.io/sulfurious/pen/eWPBjY
- https://codepen.io/anon/pen/doyVxj

*** Bulk Edit
**** TODO Short term solution akin to perkeep web interface [0/4]
- [ ] Easy selection with hover checkbox button
- [ ] When selections, show panel for performing actions
- [ ] Actions include adding, deleting tags, setting location
  - This is basically a simplified bulk edit
- [ ] Use a prefix for the checksum values

**** TODO Design bulk edit solution, probably similar to JIRA [0/5]
- [ ] Access the bulk edit screen via a menu item
- [ ] Use same search form as webui
- [ ] Perform search, present list of results in a scrollable list
- [ ] Check off results as desired
- [ ] Next page presents several operations [0/8]
  - [ ] add location
  - [ ] remove location
  - [ ] rename location
  - [ ] add a tag
  - [ ] remove a tag
  - [ ] rename a tag
  - [ ] set caption
  - [ ] change media type

*** Uploads
**** DONE Detect duplicate assets on drop [7/7]
- [X] At start of checksumDrops(), push to =/upload= route
- [X] As assets are processed 1-by-1, =/upload= page will show dropped files
- [X] After checksumming assets, query backend to check for duplicates
- [X] Flag duplicate assets and disable input on dropped files page
- [X] Show asset details: tags, location, caption
- [X] Help text below caption input should indicate its duplicateness
- [X] Mark the asset so it does not get uploaded

**** DONE Handle additional drop events while on the upload screen
**** TODO Tag and location completion on uploads page
**** TODO Add a button to remove a single upload entry from the list
**** TODO Can the upload thumbnails be improved, they are kinda grainy
**** TODO Upload progress bar needs to be made visible
- Either squeeze it between the save/cancel buttons
- Or scroll down to the bottom fo the page when save button is pressed

**** TODO Add menu item for going to the upload screen
- Add a button on the upload screen to select additional files

**** TODO Consider how to show uploads.error in NewFileList page
**** TODO Sometimes dropping an image just opens the image
- Is there a React event that App can listen for, like "unmount"?
  - and if that happens, fire an action to navigate back home
- How to prevent this behavior?
- http://www.danieleckermann.com/blog/electron-prevent-dropped-file-from-opening
- Maybe intercept the 'will-nagivate' event?
  - Would need to know if our app initiated the event
- Maybe a menu item to get back "Home"
- Maybe a periodic check in main.js to ensure webContents are what is expected
**** TODO Show a fancy help overlay thingy on dragover
- See Slack, which shows an overlay while dragging over the window
- Probably need to add dragover and drop handlers to the top-level App component

**** TODO File/Open dialog to select files to be added (goes to drop screen)

*** Videos
**** TODO How to get large videos into storage?
**** TODO Show videos using the video tag
**** TODO Show duration for videos
**** TODO Use video tag for thumbnail view
**** TODO Show 5 or so frames from the video on hover
**** TODO Show placeholder icons for videos that fail to load

** Investigate

*** TODO How to search for assets with no tags or location?
- GraphQL works, but it is beyond the capability of non-technical people

*** TODO What does supporting emoji codes (in captions/comments) entail?
*** TODO Investigate how to localize the app
- https://www.npmjs.com/package/oftn-l10n
- https://developer.mozilla.org/en-US/docs/Mozilla/Localization/Localization_content_best_practices

*** TODO Find out how to handle unresponsive windows
*** TODO See https://github.com/Quramy/electron-jsx-babel-boilerplate/
- uses gulp to minify and uglify everything

*** TODO Drag and drop from Photos is not working
- No drag events are fired at all, it just does nothing
- See the Electron guide for native drag & drop
- Handle 'open-url' and/or 'open-file' on the app instance in main.js
- Maybe look at that relatively new DataTransfer API business

** Upcoming
*** Buggy Interface
**** TODO Try to center the thumbnail vertically on the dropped files page

**** TODO Improve the scrolling fluidity
- Seems like the virtual paging is making the scrolling jittery
- Perhaps some react-visibility settings could be employed

*** Refinements
**** TODO Advanced search features
***** TODO "is:image" and similar are converted to "mimetype:image/*" :tanuki:
***** TODO "with:<name>" for searching people
***** TODO logical operators (and, or) and grouping with parentheses

**** TODO Add a trash/delete icon next to dropped file to remove individual files
**** TODO Show N most recent assets by default (timeline style)
**** TODO Use bulma Level to make a toolbar sort of thing at the top/bottom
**** TODO Consider setting the application menu appropriately for macOS and win32
**** TODO Create a "New Window" menu item that invokes createWindow()
**** TODO Set the browser window title (in index.html) to something sensible
**** TODO When selecting attributes, disable those that no longer help
**** TODO Maybe a set of Tabs to select between Pictures, Music, Videos, Documents, etc
**** TODO Read https://fb.me/react-error-boundaries to learn about error handling

*** Bulma Extensions
**** TODO use https://wikiki.github.io for bulma extensions
- Tooltip, Tags input, Accordion, Carousel, QuickView, Timeline

**** TODO employ tooltip feature for the following [0/4]
- [ ] Edit button on the asset preview page
- [ ] Save button on asset edit page
- [ ] Asset preview image, show the asset ID, file size, media type
- [ ] Show full asset identifier as tooltip on asset sidebar

**** TODO For making text not selectable, Bloomer has isUnselectable

**** Carousel
- Bulma extensions has a Carousel component
- Good for swiping through a bunch of assets
- Need to make clicking the arrows fire a fetchAsset action
- Use this in the ThumbnailRow component

**** Timeline
- Use the Bulma-Extensions Timeline component to show assets sorted by date

**** Better tags input
- Use Bulma-Extensions TagsInput on the asset edit screen

*** Drop zone improvements
**** TODO Consider some style tricks to show drop readiness
- Handle the dragenter and dragleave events to add style properties dynamically

**** TODO Allow dragging out images (and videos?) as a form of export
- Likely need a "File > Export" option with Save dialog for larger files
- https://electronjs.org/docs/tutorial/native-file-drag-drop

** Notes on Flexbox
*** General Tutorials
- https://www.w3schools.com/cSS/css3_flexbox.asp
- https://internetingishard.com/html-and-css/flexbox/
- https://css-tricks.com/snippets/css/a-guide-to-flexbox/
- https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Flexible_Box_Layout/Basic_Concepts_of_Flexbox
- https://developer.mozilla.org/en-US/docs/Learn/CSS/CSS_layout/Flexbox
  + it is okay to nest flexible boxes
- nice reference: https://cssreference.io/flexbox/
- https://philipwalton.github.io/solved-by-flexbox/

*** Flexbox and scrollable content and height fill
- https://codepen.io/stephenbunch/pen/KWBNVo
  + doesn't help
- https://www.bitovi.com/blog/use-flexbox-to-create-a-sticky-header-and-sidebar-with-flexible-content
- https://codepen.io/sulfurious/pen/eWPBjY
- https://codepen.io/anon/pen/doyVxj
